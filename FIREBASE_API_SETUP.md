# Firebase API Setup - Firestore API рЃЕрЃљрЃарЃЌрЃЋрЃљ

рЃћрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљ рЃюрЃўрЃерЃюрЃљрЃЋрЃА рЃарЃЮрЃЏ Firestore API рЃљрЃа рЃљрЃарЃўрЃА рЃЕрЃљрЃарЃЌрЃБрЃџрЃў рЃЌрЃЦрЃЋрЃћрЃюрЃА Firebase/Google Cloud рЃърЃарЃЮрЃћрЃЦрЃбрЃерЃў.

## РџА рЃАрЃгрЃарЃљрЃцрЃў рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ (рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃў):

### рЃЏрЃћрЃЌрЃЮрЃЊрЃў 1: рЃърЃўрЃарЃЊрЃљрЃърЃўрЃарЃў рЃЉрЃЏрЃБрЃџрЃў (рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃАрЃгрЃарЃљрЃцрЃў)
1. рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃљрЃЏ рЃЉрЃЏрЃБрЃџрЃќрЃћ (рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА):
   ```
   https://console.developers.google.com/apis/api/firestore.googleapis.com/overview?project=handmade-backend-1debc
   ```
2. рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **"ENABLE"** рЃдрЃўрЃџрЃљрЃЎрЃА
3. рЃЊрЃљрЃћрЃџрЃЮрЃЊрЃћрЃЌ 1-2 рЃгрЃБрЃЌрЃА
4. рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ seed script: `npm run seed:users`

### рЃЏрЃћрЃЌрЃЮрЃЊрЃў 2: Firebase Console-рЃЊрЃљрЃю
1. рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ: https://console.firebase.google.com/
2. рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃърЃарЃЮрЃћрЃЦрЃбрЃў: `handmade-backend-1debc`
3. рЃЏрЃљрЃарЃфрЃ«рЃћрЃюрЃљ рЃЏрЃћрЃюрЃўрЃБрЃерЃў рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ **"Firestore Database"**
4. рЃЌрЃБ database рЃљрЃа рЃљрЃарЃўрЃА, рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **"Create database"**
5. рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ **"Start in test mode"** (рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА)
6. рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃарЃћрЃњрЃўрЃЮрЃюрЃў рЃЊрЃљ рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **"Enable"**

## ­ЪћД рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃў рЃћрЃбрЃљрЃърЃћрЃЉрЃў:

### рЃћрЃбрЃљрЃърЃў 1: Firebase Console-рЃерЃў рЃерЃћрЃАрЃЋрЃџрЃљ
1. рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ: https://console.firebase.google.com/
2. рЃерЃћрЃЊрЃўрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃА Google рЃљрЃюрЃњрЃљрЃарЃўрЃерЃерЃў
3. рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃў: `handmade-backend-1debc` (рЃљрЃю рЃАрЃ«рЃЋрЃљ рЃърЃарЃЮрЃћрЃЦрЃбрЃў рЃарЃЮрЃЏрЃћрЃџрЃАрЃљрЃф рЃўрЃДрЃћрЃюрЃћрЃЉрЃЌ)

### рЃћрЃбрЃљрЃърЃў 2: Firestore Database-рЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ/рЃЕрЃљрЃарЃЌрЃЋрЃљ
1. Firebase Console-рЃерЃў, рЃЏрЃљрЃарЃфрЃ«рЃћрЃюрЃљ рЃЏрЃћрЃюрЃўрЃБрЃерЃў рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ **"Firestore Database"**
2. рЃЌрЃБ Firestore Database рЃБрЃЎрЃЋрЃћ рЃљрЃарЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃџрЃў:
   - рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ **"Project Settings"** (РџЎ№ИЈ рЃ«рЃљрЃбрЃБрЃџрЃљ)
   - рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ **"Cloud Messaging"** рЃљрЃю **"General"** tab
   - рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ **"Cloud API Manager"**-рЃќрЃћ
3. рЃЌрЃБ Firestore Database рЃљрЃа рЃљрЃарЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃџрЃў:
   - рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **"Create database"** рЃдрЃўрЃџрЃљрЃЎрЃА
   - рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ **"Start in production mode"** рЃљрЃю **"Start in test mode"** (рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА)
   - рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃарЃћрЃњрЃўрЃЮрЃюрЃў (рЃЏрЃљрЃњ: `us-central1` рЃљрЃю `europe-west1`)
   - рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **"Enable"**

### рЃћрЃбрЃљрЃърЃў 3: Google Cloud Console-рЃерЃў API-рЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ (рЃљрЃџрЃбрЃћрЃарЃюрЃљрЃбрЃўрЃБрЃџрЃў рЃЏрЃћрЃЌрЃЮрЃЊрЃў)
1. рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа: https://console.developers.google.com/apis/api/firestore.googleapis.com/overview?project=handmade-backend-1debc
2. рЃљрЃю:
   - рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ: https://console.cloud.google.com/
   - рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃў (handmade-backend-1debc)
   - рЃЏрЃљрЃарЃфрЃ«рЃћрЃюрЃљ рЃЏрЃћрЃюрЃўрЃБрЃерЃў рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ **"APIs & Services"** Рєњ **"Library"**
   - рЃФрЃўрЃћрЃЉрЃљрЃерЃў рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ **"Cloud Firestore API"**
   - рЃЊрЃљрЃљрЃГрЃўрЃарЃћрЃЌ **"Enable"** рЃдрЃўрЃџрЃљрЃЎрЃА

### рЃћрЃбрЃљрЃърЃў 4: API-рЃА рЃЕрЃљрЃарЃЌрЃЋрЃўрЃА рЃЊрЃљрЃЊрЃљрЃАрЃбрЃБрЃарЃћрЃЉрЃљ
1. рЃЊрЃљрЃћрЃџрЃЮрЃЊрЃћрЃЌ 1-2 рЃгрЃБрЃЌрЃА API-рЃА рЃЕрЃљрЃарЃЌрЃЋрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ
2. рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ рЃарЃЮрЃЏ API рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ:
   - Google Cloud Console Рєњ APIs & Services Рєњ Enabled APIs
   - рЃБрЃюрЃЊрЃљ рЃЕрЃљрЃюрЃЊрЃћрЃА **"Cloud Firestore API"** enabled рЃАрЃбрЃљрЃбрЃБрЃАрЃўрЃЌ

### рЃћрЃбрЃљрЃърЃў 5: Seed Script-рЃўрЃА рЃ«рЃћрЃџрЃљрЃ«рЃљрЃџрЃў рЃњрЃљрЃерЃЋрЃћрЃЉрЃљ
```bash
cd backend
npm run seed:users
```

## ­ЪћЇ рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃћрЃЉрЃў:

### Firebase Console-рЃерЃў рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ:
1. Firebase Console Рєњ Project Settings Рєњ General
2. рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ рЃарЃЮрЃЏ **Project ID** рЃАрЃгрЃЮрЃарЃўрЃљ: `handmade-backend-1debc`
3. рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ **Service Accounts** tab-рЃерЃў рЃарЃЮрЃЏ service account рЃљрЃарЃАрЃћрЃЉрЃЮрЃЉрЃА

### Firestore Database-рЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ:
1. Firebase Console Рєњ Firestore Database
2. рЃЌрЃБ database рЃљрЃа рЃљрЃарЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃџрЃў, рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ (рЃўрЃ«рЃўрЃџрЃћрЃЌ рЃћрЃбрЃљрЃърЃў 2)
3. рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ рЃарЃЮрЃЏ database рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА

## Рџа№ИЈ рЃЌрЃБ рЃЎрЃЋрЃџрЃљрЃЋ рЃљрЃарЃўрЃА рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ:

### 1. рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ Service Account Permissions:
- Google Cloud Console Рєњ IAM & Admin Рєњ Service Accounts
- рЃўрЃърЃЮрЃЋрЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў service account (рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋ `firebase-adminsdk-xxxxx@project-id.iam.gserviceaccount.com`)
- рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ рЃарЃЮрЃЏ рЃЏрЃљрЃА рЃљрЃЦрЃЋрЃА **"Cloud Datastore User"** рЃљрЃю **"Firebase Admin"** role

### 2. рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ Billing:
- Firebase-рЃўрЃА рЃБрЃцрЃљрЃАрЃЮ tier-рЃќрЃћ Firestore рЃБрЃцрЃљрЃАрЃЮрЃљ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃќрЃЮрЃњрЃ»рЃћрЃа рЃАрЃљрЃГрЃўрЃарЃЮрЃљ billing account-рЃўрЃА рЃЊрЃљрЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЉрЃљ
- Firebase Console Рєњ Project Settings Рєњ Usage and billing
- рЃЌрЃБ рЃАрЃљрЃГрЃўрЃарЃЮрЃљ, рЃЊрЃљрЃљрЃЎрЃљрЃЋрЃерЃўрЃарЃћрЃЌ billing account

### 3. API Quota рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ:
- Google Cloud Console Рєњ APIs & Services Рєњ Quotas
- рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ рЃарЃЮрЃЏ Firestore API-рЃА рЃљрЃЦрЃЋрЃА quota

## ­ЪЊЮ рЃАрЃгрЃарЃљрЃцрЃў рЃЉрЃЏрЃБрЃџрЃћрЃЉрЃў:

- **Firebase Console**: https://console.firebase.google.com/
- **Google Cloud Console**: https://console.cloud.google.com/
- **Firestore API Enable**: https://console.developers.google.com/apis/api/firestore.googleapis.com/overview?project=handmade-backend-1debc
- **Firestore Database**: https://console.firebase.google.com/project/handmade-backend-1debc/firestore

## РюЁ рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ:

рЃарЃЮрЃфрЃљ API рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ, seed script рЃБрЃюрЃЊрЃљ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃЊрЃћрЃА рЃЊрЃљ рЃерЃћрЃЦрЃЏрЃюрЃљрЃА рЃАрЃљрЃбрЃћрЃАрЃбрЃЮ рЃўрЃБрЃќрЃћрЃарЃћрЃЉрЃў Firestore-рЃерЃў.

